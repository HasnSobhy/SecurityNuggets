# Keyed Caesar
import sys
# Eliminate duplicates
key2 = "ANGSROMCTF".lower()
key = "ANGSTROMCF".lower()
cipher_text = "agqr{yue_stdcgciup_padas}"
non_dup_alphabets = [chr(i) for i in range(97, 123) if chr(i) not in key]
all_alphabets = [chr(i) for i in range(97, 123)]
print(key, non_dup_alphabets, all_alphabets)
# KEY Placement iteration
for k in [key, key2]:
    for i in range(len(non_dup_alphabets)):
        cipher = non_dup_alphabets[:i] + list(k) + non_dup_alphabets[i:]
        #import collections
        #print(collections.Counter(cipher))
        # ROT Cipher Caesar rotation
        print("Using cipher " + "".join(cipher))
        plain_text = ""
        for ch in cipher_text:
            if ch.isalpha():
                ind = cipher.index(ch)
                print(ind, all_alphabets[ind], cipher[ind])
                plain_text += all_alphabets[ind]
                if len(plain_text) > 4 and "actf" not in plain_text:
                    break
            else:
                plain_text += ch
        if "actf" in plain_text:
            print(plain_text)
            sys.exit()
        print(plain_text)                



 